# ── Database ──────────────────────────────────────────────────────────
DATABASE_URL=postgresql+asyncpg://user:password@localhost:5432/zia_db

# ── Authentication ─────────────────────────────────────────────────────
AUTH_SECRET=your-secret-key-here-change-in-production
AUTH_TOKEN_TTL=60

# ── OpenAI ─────────────────────────────────────────────────────────────
OPENAI_API_KEY=sk-...

# ── Twilio WhatsApp ────────────────────────────────────────────────────
TWILIO_ACCOUNT_SID=ACxxxx
TWILIO_AUTH_TOKEN=xxxx
TWILIO_PHONE_NUMBER=+1234567890
TWILIO_VALIDATE_SIGNATURE=true

# ── Facebook/Meta OAuth (Multi-Tenant) ────────────────────────────────
# IMPORTANTE: Estas son credenciales de tu APP de Facebook (no por tenant)
# Cada tenant conecta su propia PÁGINA de Facebook usando OAuth
# Los tokens de página se guardan en tenants.settings.fb_page_token

# App ID de tu aplicación de Facebook
META_APP_ID=your-facebook-app-id

# App Secret de tu aplicación de Facebook
META_APP_SECRET=your-facebook-app-secret

# Token de verificación para webhooks de Facebook
META_VERIFY_TOKEN=your-custom-verify-token

# URL de callback OAuth (debe estar configurada en Facebook App)
FACEBOOK_REDIRECT_URI=http://localhost:8000/auth/facebook/callback

# URL del frontend (para redirecciones después de OAuth)
FRONTEND_URL=http://localhost:5173

# Tenant por defecto para mensajes de Meta sin identificar
META_DEFAULT_TENANT=

# Modo de prueba (no envía mensajes reales)
META_DRY_RUN=false

# TTL y máximo para eventos vistos de Meta
META_SEEN_TTL_SECONDS=300
META_SEEN_MAX=500

# ── Stripe (Multi-Tenant con Stripe Connect) ──────────────────────────
# IMPORTANTE: Esta es la clave de tu PLATAFORMA (no de los tenants)
# Usas Stripe Connect para crear cuentas para cada tenant
# Cada tenant tendrá su propia cuenta Stripe en settings.stripe_acct
# Los pagos van DIRECTO a cada tenant, tu plataforma puede cobrar comisión

# Tu clave secreta de Stripe (plataforma principal)
STRIPE_SECRET_KEY=sk_test_...

# Secret para validar webhooks de Stripe
STRIPE_WEBHOOK_SECRET=whsec_...

# URL de tu sitio (para redirects de Stripe)
SITE_URL=http://localhost:5173

# ── General ────────────────────────────────────────────────────────────
PORT=8000

# CORS - Orígenes permitidos (separados por coma)
ALLOWED_ORIGINS=http://localhost:5173,http://127.0.0.1:5173,https://tu-dominio.com

# Admin API Key (opcional, para endpoints /v1/admin)
ADMIN_KEY=
